{"is_source_file": true, "format": "Python", "description": "This file contains database utility functions for managing PostgreSQL connections and executing queries, such as fetching one or all rows, executing modifications, and handling transactions with context managers.", "external_files": ["src.api.config"], "external_methods": ["get_settings"], "published": ["get_connection", "get_cursor", "fetch_one", "fetch_all", "execute", "execute_returning"], "classes": [], "methods": [{"name": "get_connection()", "description": "Provides a managed PostgreSQL connection based on configuration, ensuring proper closure after use.", "scope": "", "scopeKind": ""}, {"name": "get_cursor(commit: bool = False)", "description": "Provides a context-managed database cursor with optional transaction commit.", "scope": "", "scopeKind": ""}, {"name": "Optional[dict] fetch_one(query: str, params: Optional[Sequence[Any]] = None)", "description": "Executes a query expected to return a single row and returns it as a dict or None.", "scope": "", "scopeKind": ""}, {"name": "list[dict] fetch_all(query: str, params: Optional[Sequence[Any]] = None)", "description": "Executes a query and returns all rows as a list of dicts.", "scope": "", "scopeKind": ""}, {"name": "int execute(query: str, params: Optional[Sequence[Any]] = None)", "description": "Performs an INSERT, UPDATE, or DELETE operation and returns the number of affected rows.", "scope": "", "scopeKind": ""}, {"name": "Optional[dict] execute_returning(query: str, params: Optional[Sequence[Any]] = None)", "description": "Executes a statement with RETURNING clause and returns the first row as a dict.", "scope": "", "scopeKind": ""}], "calls": ["get_settings", "psycopg2.connect", "conn.close", "conn.cursor", "cur.execute", "conn.commit", "conn.rollback", "cur.fetchone", "cur.fetchall"], "search-terms": ["db.py", "PostgreSQL", "psycopg2", "connection management", "query execution", "context manager", "fetch", "execute", "transaction"], "state": 2, "file_id": 6, "knowledge_revision": 13, "git_revision": "", "ctags": [{"_type": "tag", "name": "execute", "path": "/home/kavia/workspace/code-generation/notes-management-system-212621-212633/notes_backend/src/api/db.py", "pattern": "/^def execute(query: str, params: Optional[Sequence[Any]] = None) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "function", "signature": "(query: str, params: Optional[Sequence[Any]] = None)"}, {"_type": "tag", "name": "execute_returning", "path": "/home/kavia/workspace/code-generation/notes-management-system-212621-212633/notes_backend/src/api/db.py", "pattern": "/^def execute_returning(query: str, params: Optional[Sequence[Any]] = None) -> Optional[dict]:$/", "language": "Python", "typeref": "typename:Optional[dict]", "kind": "function", "signature": "(query: str, params: Optional[Sequence[Any]] = None)"}, {"_type": "tag", "name": "fetch_all", "path": "/home/kavia/workspace/code-generation/notes-management-system-212621-212633/notes_backend/src/api/db.py", "pattern": "/^def fetch_all(query: str, params: Optional[Sequence[Any]] = None) -> list[dict]:$/", "language": "Python", "typeref": "typename:list[dict]", "kind": "function", "signature": "(query: str, params: Optional[Sequence[Any]] = None)"}, {"_type": "tag", "name": "fetch_one", "path": "/home/kavia/workspace/code-generation/notes-management-system-212621-212633/notes_backend/src/api/db.py", "pattern": "/^def fetch_one(query: str, params: Optional[Sequence[Any]] = None) -> Optional[dict]:$/", "language": "Python", "typeref": "typename:Optional[dict]", "kind": "function", "signature": "(query: str, params: Optional[Sequence[Any]] = None)"}, {"_type": "tag", "name": "get_connection", "path": "/home/kavia/workspace/code-generation/notes-management-system-212621-212633/notes_backend/src/api/db.py", "pattern": "/^def get_connection():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_cursor", "path": "/home/kavia/workspace/code-generation/notes-management-system-212621-212633/notes_backend/src/api/db.py", "pattern": "/^def get_cursor(commit: bool = False):$/", "language": "Python", "kind": "function", "signature": "(commit: bool = False)"}], "hash": "90613ef77c18c3f2bdaba5d8fbd9773e", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/api/db.py", "revision_history": [{"13": ""}]}